{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"anime-detail\"\n};\nconst _hoisted_2 = {\n  class: \"anime-detail__banner\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"anime-detail__cover ml-96 relative\"\n};\nconst _hoisted_5 = [\"src\"];\n\nconst _hoisted_6 = /*#__PURE__*/_createStaticVNode(\"<div class=\\\"anime-detail__buttons flex justify-evenly pt-4 w-full space-x-4\\\"><div class=\\\"add-to-list flex items-center cursor-pointer font-semibold text-2xl justify-center pl-5 rounded-lg\\\"> Add to list <span class=\\\"add-to-list__arrow relative -right-9\\\"><i class=\\\"bx bx-chevron-down bx-md\\\"></i></span></div><div class=\\\"favorite flex items-center cursor-pointer rounded-lg px-4 content-center\\\"><i class=\\\"bx bxs-heart\\\"></i></div></div>\", 1);\n\nconst _hoisted_7 = {\n  class: \"shadow-lg\"\n};\nconst _hoisted_8 = {\n  class: \"max-w-6xl anime-detail__header\"\n};\nconst _hoisted_9 = {\n  class: \"anime-detail__header__title text-3xl mb-6\"\n};\nconst _hoisted_10 = {\n  class: \"anime-detail__header__description\"\n};\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = {\n  class: \"anime-detail__header__nav\"\n};\nconst _hoisted_13 = {\n  class: \"flex justify-evenly space-x-5 text-2xl mt-6 py-5\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"font-normal\"\n}, \"Overview\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  key: 0\n};\n\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"font-normal\"\n}, \"Watch\", -1\n/* HOISTED */\n);\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"font-normal\"\n}, \"Characters\", -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = {\n  class: \"anime-detail__content flex px-96 py-14 space-x-20\"\n};\nconst _hoisted_19 = {\n  class: \"anime-detail__content__container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n\n  const _component_DetailSidebar = _resolveComponent(\"DetailSidebar\");\n\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"img\", {\n    src: $data.anime.bannerImage,\n    alt: \"\",\n    class: \"w-full\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_3)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"img\", {\n    src: $data.coverImage,\n    alt: \"\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_5), _hoisted_6]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h1\", _hoisted_9, _toDisplayString($data.title), 1\n  /* TEXT */\n  ), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"p\", {\n    innerHTML: $options.getDescription(550),\n    class: \"text-2xl font-normal\"\n  }, null, 8\n  /* PROPS */\n  , _hoisted_11), _createElementVNode(\"span\", {\n    class: \"description-length-toggle py-4 -mb-4 font-medium text-xl\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.getFull && $options.getFull(...args))\n  }, \" Read more \")]), _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"ul\", _hoisted_13, [_createVNode(_component_router_link, {\n    to: 'overview'\n  }, {\n    default: _withCtx(() => [_hoisted_14]),\n    _: 1\n    /* STABLE */\n\n  }), $data.watch.length != 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_createVNode(_component_router_link, {\n    to: 'watch'\n  }, {\n    default: _withCtx(() => [_hoisted_16]),\n    _: 1\n    /* STABLE */\n\n  })])) : _createCommentVNode(\"v-if\", true), _createVNode(_component_router_link, {\n    to: 'characters'\n  }, {\n    default: _withCtx(() => [_hoisted_17]),\n    _: 1\n    /* STABLE */\n\n  })])])])]), _createElementVNode(\"div\", _hoisted_18, [_createVNode(_component_DetailSidebar), _createElementVNode(\"div\", _hoisted_19, [_createVNode(_component_router_view, {\n    relationsList: $data.relations,\n    charactersList: $data.characters,\n    oCharactersList: $data.oCharacters,\n    staffsList: $data.staffs,\n    episodesList: $data.watch,\n    oEpisodesList: $data.oWatch\n  }, null, 8\n  /* PROPS */\n  , [\"relationsList\", \"charactersList\", \"oCharactersList\", \"staffsList\", \"episodesList\", \"oEpisodesList\"])])])]);\n}","map":{"version":3,"mappings":";;AACOA,IAAE,EAAC;;;AACDC,OAAK,EAAC;;;;AAGNA,OAAK,EAAC;;;;;;;AAoBNA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;AACLA,OAAK,EAAC;;;AAILA,OAAK,EAAC;;;;AAUNA,OAAK,EAAC;;;AACLA,OAAK,EAAC;;;iCAENC,oBAAqC,IAArC,EAAqC;AAAjCD,OAAK,EAAC;AAA2B,CAArC,EAAwB,UAAxB,EAAgC;AAAA;AAAhC;;;;;;iCAIEC,oBAAkC,IAAlC,EAAkC;AAA9BD,OAAK,EAAC;AAAwB,CAAlC,EAAwB,OAAxB,EAA6B;AAAA;AAA7B;;iCAIFC,oBAAuC,IAAvC,EAAuC;AAAnCD,OAAK,EAAC;AAA6B,CAAvC,EAAwB,YAAxB,EAAkC;AAAA;AAAlC;;;AAMLA,OAAK,EAAC;;;AAEJA,OAAK,EAAC;;;;;;;;;uBA3DfE,oBAsEM,KAtEN,cAsEM,CArEJD,oBAEM,KAFN,cAEM,CADJA,oBAAsD,KAAtD,EAAsD;AAAhDE,OAAG,EAAEC,YAAMC,WAAqC;AAAxBC,OAAG,EAAC,EAAoB;AAAjBN,SAAK,EAAC;AAAW,GAAtD;;AAAA,eACI,CAFN,CAqEI,EAlEJC,oBAmBM,KAnBN,cAmBM,CAlBJA,oBAAgC,KAAhC,EAAgC;AAA1BE,OAAG,EAAEC,gBAAqB;AAATE,OAAG,EAAC;AAAK,GAAhC;;AAAA,eAkBI,EAjBJC,UAiBI,CAnBN,CAkEI,EA9CJN,oBAgCM,KAhCN,cAgCM,CA/BJA,oBA8BM,KA9BN,cA8BM,CA7BJA,oBAEK,IAFL,cAEKO,iBADAJ,WACA,CAFL,EACU;AAAA;AADV,GA6BI,EAzBJH,oBAQM,KARN,eAQM,CAPJA,oBAAiE,GAAjE,EAAiE;AAA9DQ,aAA4B,EAApBC,wBAAc,GAAd,CAAsD;AAAjCV,SAAK,EAAC;AAA2B,GAAjE;;AAAA,gBAOI,EANJC,oBAKO,MALP,EAKO;AAJLD,SAAK,EAAC,0DAID;AAHJW,WAAK,yCAAED,6CAAF;AAGD,GALP,EAGC,aAHD,CAMI,CARN,CAyBI,EAfJT,oBAcM,KAdN,eAcM,CAbJA,oBAYK,IAZL,eAYK,CAXHW,aAECC,sBAFD,EAEC;AAFaC,MAAE,EAAE;AAEjB,GAFD,EAA4B;sBAC1B,MAAqC,CAArCC,WAAqC,EADX;;;;AAAA,GAA5B,CAWG,EARQX,YAAMY,MAAN,IAAY,mBAAvBd,oBAIM,KAJN,EAIMe,WAJN,EAIM,CAHJL,aAECC,sBAFD,EAEC;AAFaC,MAAE,EAAE;AAEjB,GAFD,EAAyB;sBACvB,MAAkC,CAAlCI,WAAkC,EADX;;;;AAAA,GAAzB,CAGI,CAJN,sCAQG,EAHHN,aAECC,sBAFD,EAEC;AAFaC,MAAE,EAAE;AAEjB,GAFD,EAA8B;sBAC5B,MAAuC,CAAvCK,WAAuC,EADX;;;;AAAA,GAA9B,CAGG,CAZL,CAaI,CAdN,CAeI,CA9BN,CA+BI,CAhCN,CA8CI,EAbJlB,oBAYM,KAZN,eAYM,CAXJW,aAAiBQ,wBAAjB,CAWI,EAVJnB,oBASM,KATN,eASM,CARJW,aAOES,sBAPF,EAOE;AANCC,iBAAa,EAAElB,eAMhB;AALCmB,kBAAc,EAAEnB,gBAKjB;AAJCoB,mBAAe,EAAEpB,iBAIlB;AAHCqB,cAAU,EAAErB,YAGb;AAFCsB,gBAAY,EAAEtB,WAEf;AADCuB,iBAAa,EAAEvB;AAChB,GAPF;;AAAA,0GAQI,CATN,CAUI,CAZN,CAaI,CAtEN","names":["id","class","_createElementVNode","_createElementBlock","src","$data","bannerImage","alt","_hoisted_6","_toDisplayString","innerHTML","$options","onClick","_createVNode","_component_router_link","to","_hoisted_14","length","_hoisted_15","_hoisted_16","_hoisted_17","_component_DetailSidebar","_component_router_view","relationsList","charactersList","oCharactersList","staffsList","episodesList","oEpisodesList"],"sourceRoot":"","sources":["C:\\Users\\User\\Desktop\\vue\\clone-anilist\\src\\components\\detail\\DetailContent.vue"],"sourcesContent":["<template>\r\n  <div id=\"anime-detail\">\r\n    <div class=\"anime-detail__banner\">\r\n      <img :src=\"anime.bannerImage\" alt=\"\" class=\"w-full\" />\r\n    </div>\r\n    <div class=\"anime-detail__cover ml-96 relative\">\r\n      <img :src=\"coverImage\" alt=\"\" />\r\n      <div\r\n        class=\"anime-detail__buttons flex justify-evenly pt-4 w-full space-x-4\"\r\n      >\r\n        <div\r\n          class=\"add-to-list flex items-center cursor-pointer font-semibold text-2xl justify-center pl-5 rounded-lg\"\r\n        >\r\n          Add to list\r\n          <span class=\"add-to-list__arrow relative -right-9\"\r\n            ><i class=\"bx bx-chevron-down bx-md\"></i\r\n          ></span>\r\n        </div>\r\n        <div\r\n          class=\"favorite flex items-center cursor-pointer rounded-lg px-4 content-center\"\r\n        >\r\n          <i class=\"bx bxs-heart\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"shadow-lg\">\r\n      <div class=\"max-w-6xl anime-detail__header\">\r\n        <h1 class=\"anime-detail__header__title text-3xl mb-6\">\r\n          {{ title }}\r\n        </h1>\r\n\r\n        <div class=\"anime-detail__header__description\">\r\n          <p v-html=\"getDescription(550)\" class=\"text-2xl font-normal\"></p>\r\n          <span\r\n            class=\"description-length-toggle py-4 -mb-4 font-medium text-xl\"\r\n            @click=\"getFull\"\r\n          >\r\n            Read more\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"anime-detail__header__nav\">\r\n          <ul class=\"flex justify-evenly space-x-5 text-2xl mt-6 py-5\">\r\n            <router-link :to=\"'overview'\">\r\n              <li class=\"font-normal\">Overview</li></router-link\r\n            >\r\n            <div v-if=\"watch.length != 0\">\r\n              <router-link :to=\"'watch'\">\r\n                <li class=\"font-normal\">Watch</li></router-link\r\n              >\r\n            </div>\r\n            <router-link :to=\"'characters'\">\r\n              <li class=\"font-normal\">Characters</li></router-link\r\n            >\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"anime-detail__content flex px-96 py-14 space-x-20\">\r\n      <DetailSidebar />\r\n      <div class=\"anime-detail__content__container\">\r\n        <router-view\r\n          :relationsList=\"relations\"\r\n          :charactersList=\"characters\"\r\n          :oCharactersList=\"oCharacters\"\r\n          :staffsList=\"staffs\"\r\n          :episodesList=\"watch\"\r\n          :oEpisodesList=\"oWatch\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailSidebar from \"./DetailSidebar.vue\";\r\nexport default {\r\n  name: \"comp-detail\",\r\n  data() {\r\n    return {\r\n      anime: {},\r\n      title: \"\",\r\n      coverImage: \"\",\r\n      description: \"\",\r\n      isHide: true,\r\n      relations: {},\r\n      characters: {},\r\n      oCharacters: {},\r\n      staffs: {},\r\n      watch: {},\r\n      oWatch: {},\r\n    };\r\n  },\r\n  components: {\r\n    DetailSidebar,\r\n  },\r\n  created() {\r\n    // var variables = {\r\n    //   id: this.$route.params.animeId,\r\n    // };\r\n    console.log(this.$route.params.animeId);\r\n    var query =\r\n      `query {\r\n  Media(type: ANIME, id: ` +\r\n      this.$route.params.animeId +\r\n      `) {\r\n    id\r\n    title {\r\n      romaji\r\n    }\r\n    status\r\n    description\r\n    bannerImage\r\n    coverImage {\r\n      extraLarge\r\n    }\r\n    season\r\n    seasonYear\r\n    meanScore\r\n    genres\r\n    popularity\r\n    format\r\n    season\r\n    status\r\n    seasonYear\r\n    episodes\r\n    duration\r\n    characters (sort: FAVOURITES_DESC) {\r\n      edges {\r\n        id\r\n        node {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        voiceActors (language:JAPANESE, sort:FAVOURITES_DESC) {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        role\r\n      }\r\n    }\r\n    relations {\r\n      nodes {\r\n        id\r\n        title {\r\n          romaji\r\n        }\r\n        coverImage {\r\n          extraLarge\r\n        }\r\n      }\r\n    }\r\n    staff(sort: RELEVANCE, perPage: 4) {\r\n      edges {\r\n        node {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        role\r\n      }\r\n    }\r\n    streamingEpisodes {\r\n       title\r\n       thumbnail\r\n       url\r\n     }\r\n  }\r\n}\r\n`;\r\n    var url = \"https://graphql.anilist.co\",\r\n      options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          query: query,\r\n          // variables: variables,\r\n        }),\r\n      };\r\n    fetch(url, options)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.anime = data?.data?.Media;\r\n        this.title = data?.data?.Media?.title?.romaji;\r\n        this.coverImage = data?.data?.Media?.coverImage?.extraLarge;\r\n        this.description = data?.data?.Media?.description;\r\n        this.relations = data?.data?.Media?.relations?.nodes;\r\n        this.characters = data?.data?.Media?.characters?.edges;\r\n        this.oCharacters = data?.data?.Media?.characters?.edges?.slice(0, 6);\r\n        this.staffs = data?.data?.Media?.staff?.edges;\r\n        this.watch = data?.data?.Media?.streamingEpisodes;\r\n        this.oWatch = data?.data?.Media?.streamingEpisodes?.slice(0, 4);\r\n        console.log(this.watch.length);\r\n      });\r\n  },\r\n  methods: {\r\n    getDescription(len) {\r\n      if (this.isHide) {\r\n        if (this.description.length > len) {\r\n          document.querySelector(\".description-length-toggle\").style.display =\r\n            \"block\";\r\n          return this.description.slice(0, len) + \"...\";\r\n        }\r\n      }\r\n      return this.description;\r\n    },\r\n    getFull() {\r\n      document.querySelector(\".description-length-toggle\").style.display =\r\n        \"none\";\r\n      this.isHide = false;\r\n      document.querySelector(\r\n        \".anime-detail__header__description\"\r\n      ).style.height = \"fit-content\";\r\n      return this.description;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.anime-detail__ {\r\n  background-color: rgb(251, 251, 251);\r\n}\r\n.anime-detail__cover {\r\n  margin-top: -120px;\r\n  width: 220px;\r\n}\r\n.anime-detail__header {\r\n  margin-top: -220px;\r\n  margin-left: 490px;\r\n}\r\n.add-to-list {\r\n  width: 200px;\r\n  background: rgb(18, 172, 253);\r\n  color: rgb(255, 255, 255);\r\n  height: 35px;\r\n  justify-content: center;\r\n  line-height: 1.3rem;\r\n}\r\n.add-to-list__arrow {\r\n  background: rgba(18, 172, 253, 0.8) !important;\r\n}\r\n.favorite {\r\n  background: rgb(236, 41, 75);\r\n  color: rgb(255, 255, 255);\r\n  font-size: 1.8rem;\r\n  font-weight: 800;\r\n  height: 35px;\r\n}\r\n.anime-detail__buttons {\r\n  flex-grow: 0.4;\r\n}\r\n.anime-detail__content {\r\n  min-height: 1000px;\r\n  background-color: rgb(229, 235, 241);\r\n}\r\n.anime-detail__header__description {\r\n  height: 152px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  transition: height 2s;\r\n}\r\n.description-length-toggle:hover {\r\n  z-index: 99;\r\n  opacity: 1;\r\n  background: linear-gradient(\r\n    rgba(255, 255, 255, 0.8) 20%,\r\n    rgba(255, 255, 255, 1)\r\n  );\r\n}\r\n.description-length-toggle {\r\n  position: relative;\r\n  color: rgb(81, 97, 112);\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  text-align: center;\r\n  display: none;\r\n  margin-top: -36px;\r\n  z-index: 9;\r\n}\r\n.anime-detail__content__container {\r\n  max-width: 720px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}