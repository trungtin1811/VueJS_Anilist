{"ast":null,"code":"import DetailSidebar from \"./DetailSidebar.vue\";\nexport default {\n  name: \"comp-detail\",\n\n  data() {\n    return {\n      anime: {},\n      title: \"\",\n      coverImage: \"\",\n      description: \"\",\n      isHide: true,\n      relations: {},\n      characters: {},\n      oCharacters: {},\n      staffs: {},\n      watch: {},\n      oWatch: {}\n    };\n  },\n\n  components: {\n    DetailSidebar\n  },\n\n  created() {\n    // var variables = {\n    //   id: this.$route.params.animeId,\n    // };\n    console.log(this.$route.params.animeId);\n    var query = `query {\n  Media(type: ANIME, id: ` + this.$route.params.animeId + `) {\n    id\n    title {\n      romaji\n    }\n    status\n    description\n    bannerImage\n    coverImage {\n      extraLarge\n    }\n    season\n    seasonYear\n    meanScore\n    genres\n    popularity\n    format\n    season\n    status\n    seasonYear\n    episodes\n    duration\n    characters (sort: FAVOURITES_DESC) {\n      edges {\n        id\n        node {\n          id\n          name {\n            userPreferred\n          }\n          image {\n            large\n          }\n        }\n        voiceActors (language:JAPANESE, sort:FAVOURITES_DESC) {\n          id\n          name {\n            userPreferred\n          }\n          image {\n            large\n          }\n        }\n        role\n      }\n    }\n    relations {\n      nodes {\n        id\n        title {\n          romaji\n        }\n        coverImage {\n          extraLarge\n        }\n      }\n    }\n    staff(sort: RELEVANCE, perPage: 4) {\n      edges {\n        node {\n          id\n          name {\n            userPreferred\n          }\n          image {\n            large\n          }\n        }\n        role\n      }\n    }\n    streamingEpisodes {\n       title\n       thumbnail\n       url\n     }\n  }\n}\n`;\n    var url = \"https://graphql.anilist.co\",\n        options = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        query: query // variables: variables,\n\n      })\n    };\n    fetch(url, options).then(response => response.json()).then(data => {\n      this.anime = data?.data?.Media;\n      this.title = data?.data?.Media?.title?.romaji;\n      this.coverImage = data?.data?.Media?.coverImage?.extraLarge;\n      this.description = data?.data?.Media?.description;\n      this.relations = data?.data?.Media?.relations?.nodes;\n      this.characters = data?.data?.Media?.characters?.edges;\n      this.oCharacters = data?.data?.Media?.characters?.edges?.slice(0, 6);\n      this.staffs = data?.data?.Media?.staff?.edges;\n      this.watch = data?.data?.Media?.streamingEpisodes;\n      this.oWatch = data?.data?.Media?.streamingEpisodes?.slice(0, 4);\n      console.log(this.watch.length);\n    });\n  },\n\n  methods: {\n    getDescription(len) {\n      if (this.isHide) {\n        if (this.description.length > len) {\n          document.querySelector(\".description-length-toggle\").style.display = \"block\";\n          return this.description.slice(0, len) + \"...\";\n        }\n      }\n\n      return this.description;\n    },\n\n    getFull() {\n      document.querySelector(\".description-length-toggle\").style.display = \"none\";\n      this.isHide = false;\n      document.querySelector(\".anime-detail__header__description\").style.height = \"fit-content\";\n      return this.description;\n    }\n\n  }\n};","map":{"version":3,"mappings":"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","names":["DetailSidebar","name","data","anime","title","coverImage","description","isHide","relations","characters","oCharacters","staffs","watch","oWatch","components","created","console","log","$route","params","animeId","query","url","options","method","headers","Accept","body","JSON","stringify","fetch","then","response","json","Media","romaji","extraLarge","nodes","edges","slice","staff","streamingEpisodes","length","methods","getDescription","len","document","querySelector","style","display","getFull","height"],"sourceRoot":"","sources":["C:\\Users\\User\\Desktop\\vue\\clone-anilist\\src\\components\\detail\\DetailContent.vue"],"sourcesContent":["<template>\r\n  <div id=\"anime-detail\">\r\n    <div class=\"anime-detail__banner\">\r\n      <img :src=\"anime.bannerImage\" alt=\"\" class=\"w-full\" />\r\n    </div>\r\n    <div class=\"anime-detail__cover ml-96 relative\">\r\n      <img :src=\"coverImage\" alt=\"\" />\r\n      <div\r\n        class=\"anime-detail__buttons flex justify-evenly pt-4 w-full space-x-4\"\r\n      >\r\n        <div\r\n          class=\"add-to-list flex items-center cursor-pointer font-semibold text-2xl justify-center pl-5 rounded-lg\"\r\n        >\r\n          Add to list\r\n          <span class=\"add-to-list__arrow relative -right-9\"\r\n            ><i class=\"bx bx-chevron-down bx-md\"></i\r\n          ></span>\r\n        </div>\r\n        <div\r\n          class=\"favorite flex items-center cursor-pointer rounded-lg px-4 content-center\"\r\n        >\r\n          <i class=\"bx bxs-heart\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"shadow-lg\">\r\n      <div class=\"max-w-6xl anime-detail__header\">\r\n        <h1 class=\"anime-detail__header__title text-3xl mb-6\">\r\n          {{ title }}\r\n        </h1>\r\n\r\n        <div class=\"anime-detail__header__description\">\r\n          <p v-html=\"getDescription(550)\" class=\"text-2xl font-normal\"></p>\r\n          <span\r\n            class=\"description-length-toggle py-4 -mb-4 font-medium text-xl\"\r\n            @click=\"getFull\"\r\n          >\r\n            Read more\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"anime-detail__header__nav\">\r\n          <ul class=\"flex justify-evenly space-x-5 text-2xl mt-6 py-5\">\r\n            <router-link :to=\"'overview'\">\r\n              <li class=\"font-normal\">Overview</li></router-link\r\n            >\r\n            <div v-if=\"watch.length != 0\">\r\n              <router-link :to=\"'watch'\">\r\n                <li class=\"font-normal\">Watch</li></router-link\r\n              >\r\n            </div>\r\n            <router-link :to=\"'characters'\">\r\n              <li class=\"font-normal\">Characters</li></router-link\r\n            >\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"anime-detail__content flex px-96 py-14 space-x-20\">\r\n      <DetailSidebar />\r\n      <div class=\"anime-detail__content__container\">\r\n        <router-view\r\n          :relationsList=\"relations\"\r\n          :charactersList=\"characters\"\r\n          :oCharactersList=\"oCharacters\"\r\n          :staffsList=\"staffs\"\r\n          :episodesList=\"watch\"\r\n          :oEpisodesList=\"oWatch\"\r\n        />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport DetailSidebar from \"./DetailSidebar.vue\";\r\nexport default {\r\n  name: \"comp-detail\",\r\n  data() {\r\n    return {\r\n      anime: {},\r\n      title: \"\",\r\n      coverImage: \"\",\r\n      description: \"\",\r\n      isHide: true,\r\n      relations: {},\r\n      characters: {},\r\n      oCharacters: {},\r\n      staffs: {},\r\n      watch: {},\r\n      oWatch: {},\r\n    };\r\n  },\r\n  components: {\r\n    DetailSidebar,\r\n  },\r\n  created() {\r\n    // var variables = {\r\n    //   id: this.$route.params.animeId,\r\n    // };\r\n    console.log(this.$route.params.animeId);\r\n    var query =\r\n      `query {\r\n  Media(type: ANIME, id: ` +\r\n      this.$route.params.animeId +\r\n      `) {\r\n    id\r\n    title {\r\n      romaji\r\n    }\r\n    status\r\n    description\r\n    bannerImage\r\n    coverImage {\r\n      extraLarge\r\n    }\r\n    season\r\n    seasonYear\r\n    meanScore\r\n    genres\r\n    popularity\r\n    format\r\n    season\r\n    status\r\n    seasonYear\r\n    episodes\r\n    duration\r\n    characters (sort: FAVOURITES_DESC) {\r\n      edges {\r\n        id\r\n        node {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        voiceActors (language:JAPANESE, sort:FAVOURITES_DESC) {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        role\r\n      }\r\n    }\r\n    relations {\r\n      nodes {\r\n        id\r\n        title {\r\n          romaji\r\n        }\r\n        coverImage {\r\n          extraLarge\r\n        }\r\n      }\r\n    }\r\n    staff(sort: RELEVANCE, perPage: 4) {\r\n      edges {\r\n        node {\r\n          id\r\n          name {\r\n            userPreferred\r\n          }\r\n          image {\r\n            large\r\n          }\r\n        }\r\n        role\r\n      }\r\n    }\r\n    streamingEpisodes {\r\n       title\r\n       thumbnail\r\n       url\r\n     }\r\n  }\r\n}\r\n`;\r\n    var url = \"https://graphql.anilist.co\",\r\n      options = {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          query: query,\r\n          // variables: variables,\r\n        }),\r\n      };\r\n    fetch(url, options)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        this.anime = data?.data?.Media;\r\n        this.title = data?.data?.Media?.title?.romaji;\r\n        this.coverImage = data?.data?.Media?.coverImage?.extraLarge;\r\n        this.description = data?.data?.Media?.description;\r\n        this.relations = data?.data?.Media?.relations?.nodes;\r\n        this.characters = data?.data?.Media?.characters?.edges;\r\n        this.oCharacters = data?.data?.Media?.characters?.edges?.slice(0, 6);\r\n        this.staffs = data?.data?.Media?.staff?.edges;\r\n        this.watch = data?.data?.Media?.streamingEpisodes;\r\n        this.oWatch = data?.data?.Media?.streamingEpisodes?.slice(0, 4);\r\n        console.log(this.watch.length);\r\n      });\r\n  },\r\n  methods: {\r\n    getDescription(len) {\r\n      if (this.isHide) {\r\n        if (this.description.length > len) {\r\n          document.querySelector(\".description-length-toggle\").style.display =\r\n            \"block\";\r\n          return this.description.slice(0, len) + \"...\";\r\n        }\r\n      }\r\n      return this.description;\r\n    },\r\n    getFull() {\r\n      document.querySelector(\".description-length-toggle\").style.display =\r\n        \"none\";\r\n      this.isHide = false;\r\n      document.querySelector(\r\n        \".anime-detail__header__description\"\r\n      ).style.height = \"fit-content\";\r\n      return this.description;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.anime-detail__ {\r\n  background-color: rgb(251, 251, 251);\r\n}\r\n.anime-detail__cover {\r\n  margin-top: -120px;\r\n  width: 220px;\r\n}\r\n.anime-detail__header {\r\n  margin-top: -220px;\r\n  margin-left: 490px;\r\n}\r\n.add-to-list {\r\n  width: 200px;\r\n  background: rgb(18, 172, 253);\r\n  color: rgb(255, 255, 255);\r\n  height: 35px;\r\n  justify-content: center;\r\n  line-height: 1.3rem;\r\n}\r\n.add-to-list__arrow {\r\n  background: rgba(18, 172, 253, 0.8) !important;\r\n}\r\n.favorite {\r\n  background: rgb(236, 41, 75);\r\n  color: rgb(255, 255, 255);\r\n  font-size: 1.8rem;\r\n  font-weight: 800;\r\n  height: 35px;\r\n}\r\n.anime-detail__buttons {\r\n  flex-grow: 0.4;\r\n}\r\n.anime-detail__content {\r\n  min-height: 1000px;\r\n  background-color: rgb(229, 235, 241);\r\n}\r\n.anime-detail__header__description {\r\n  height: 152px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  transition: height 2s;\r\n}\r\n.description-length-toggle:hover {\r\n  z-index: 99;\r\n  opacity: 1;\r\n  background: linear-gradient(\r\n    rgba(255, 255, 255, 0.8) 20%,\r\n    rgba(255, 255, 255, 1)\r\n  );\r\n}\r\n.description-length-toggle {\r\n  position: relative;\r\n  color: rgb(81, 97, 112);\r\n  cursor: pointer;\r\n  opacity: 0;\r\n  text-align: center;\r\n  display: none;\r\n  margin-top: -36px;\r\n  z-index: 9;\r\n}\r\n.anime-detail__content__container {\r\n  max-width: 720px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}